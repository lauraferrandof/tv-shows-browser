"use strict";const searchBarEl=document.querySelector(".search-bar"),submitBtnEl=document.querySelector(".submit-btn"),resultsListEl=document.querySelector(".results__list");function handleSearchBtn(t){t.preventDefault(),fetchData()}function fetchData(){const t=searchBarEl.value;fetch("http://api.tvmaze.com/search/shows?q="+t).then(t=>t.json()).then(t=>{let e="";for(let s=0;s<t.length;s++){const l=t[s].show.name;null===t[s].show.image?e+=`<li class="results__item results__item${[s+1]}"><img src="https://via.placeholder.com/210x295/cccccc/666666/?text=TV" alt=""><h2>${l}</h2></li>`:e+=`<li class="results__item results__item${[s+1]}"><img src="${t[s].show.image.medium}" alt=""><h2>${l}</h2></li>`}resultsListEl.innerHTML=e,collectShowItems()})}function collectShowItems(){const t=resultsListEl.querySelectorAll(".results__item");for(const e of t)e.addEventListener("click",handleFavoriteShow)}function handleFavoriteShow(t){t.currentTarget.classList.toggle("results__item--favorite")}submitBtnEl.addEventListener("click",handleSearchBtn);